using System;

namespace dec03
{
    class Program
    {
        static void Main(string[] args)
        {
            var ts = new TaskSolver(GetInput());
                    long result = ts.CountTreesFor(1, 1);
            result *= ts.CountTreesFor(1, 3);
            result *= ts.CountTreesFor(1, 5);
            result *= ts.CountTreesFor(1, 7);
            result *= ts.CountTreesFor(2, 1);

            Console.WriteLine($"Result {result}");
        }


        public static string[] GetInput()
        {
            //return new string[]
            //{
            //    "..##.......",
            //    "#...#...#..",
            //    ".#....#..#.",
            //    "..#.#...#.#",
            //    ".#...##..#.",
            //    "..#.##.....",
            //    ".#.#.#....#",
            //    ".#........#",
            //    "#.##...#...",
            //    "#...##....#",
            //    ".#..#...#.#"
            //};

            return new string[]
            {
                "..#.#...#.#.#.##.....###.#....#",
"...........##.#...#.#..........",
"....#.....#..#.............#...",
".#....###..##...#...##...#.#..#",
"#.......#.........#..#.......#.",
"...#.##..##...#.#......#.##.#..",
"#.#..##.....#.....#..##........",
"...#.####...#.##...#...........",
".#...#..#..#....#.#.#.#.##.....",
"##.#..#.##..#......#..##.#.#..#",
".#.##.....#.#...............#.#",
"..##.#.....#.....##..##.#....#.",
"#..#..........#...##........#..",
"#..##.#.#...............#..#...",
"..#....#...#.......#.......#...",
".........#.#.##.#........#.....",
"#...##....#..#.........#.#...##",
"...#.#...#...........#..#...#..",
"...#..#........#...#...........",
".#....##.#...#.#....#....##....",
"...#...#......#.#.......#...##.",
"####..........##....#..........",
"#..#...........................",
"#....#...####..##.#......#.#...",
"..#..#.....##.....#...#....#..#",
"#.##......#..##........#.......",
"..........#.....#...#.#.#....##",
"....##...##..#........#...#..#.",
"#..#..#...##..............##...",
"###.##..##.###...#....##.#..#..",
".#......#.................#.#..",
"#.#..#.##.#.#.#.....#.........#",
"..##......#.......##........#..",
"#..............#.##.#.....#....",
"............................##.",
"..#.##......#..........#....#..",
"..##.....#..##.#....#.......##.",
"..#.#.##.#.........#...........",
"...........##.#.#...#......###.",
"#....#...#........#.#...#.#.###",
"..............#...#.....##....#",
"#...#...#..............#..#...#",
".##..#.........#.##.#..#...##..",
".....#.........#..#..#.......#.",
".#......#.#.#....##..#...#..##.",
"#....................#.#....#..",
"......#.....##............#....",
".#.....#......####.....#....##.",
"##.####.#..#..........#......#.",
"##....................#..##....",
".....#...#.#.##.#.###.....#....",
".#..#...####.#.#...#.#.....#...",
"#.....##.........##.##.##.....#",
"....#....##.###.........#...###",
".......#........#.##.....#####.",
"...#.##..#...#...####.....##...",
"..#....#....#......#......#.#..",
"...#.#.#.........#.......#..#..",
".....#...........#.#........##.",
"..##...#.#.##.#.#.#...###.#....",
"..##.............###....#.#....",
"#.......#....#..#...#..##..#...",
"....##..#.......####....#..#.##",
"##....#...#.#.#...#...#........",
"....#.#................#...#...",
"...#.....#.#.......##....#.#..#",
"#....##.#...#.#..#.#.........#.",
"#..##.........##.....#...#.....",
"....#.....#.#..#..##..##.##...#",
"#.....#...#.#.#.##....#.#.##...",
".#.#........#..##.......#...#.#",
"..###.....#..#.##....#...#....#",
"...#..###...#...#.......#..#...",
".#....##.......#.#..........##.",
"...#.#.............##.....##...",
"..#..#...#.....#...#...........",
".#.#......#.##....#.....#......",
"........#.#.....#.#...#..#.#..#",
"#.....#.#.....#.##..#.#....#.#.",
"..#..###.#.#........#.....##..#",
"#.#....#......#.#....###..#...#",
"...#.#....#..#.##.....#...#....",
"....##....#.#...#.........#..##",
".#......#...#.............#..#.",
"#........#........#.#.....##...",
"..##..#.##..#........#.........",
".....#...#...#..#.....#.#.##.#.",
"..#..#..#.........#...#.......#",
"....#.....#.......#.##.#.##..##",
"......#.......##...#......#....",
"....#....##.......###.#......#.",
".....#..#.#........#....#.....#",
"#...#...#....#...###........#..",
"#...........####.......#.#..#.#",
"..###....#..........#...#.###..",
"....#.#.....#....#..#.....#.##.",
"...##.#..#..#.......#......#.#.",
"....#......###..#.....#.....#..",
".....#.#.#.....#.##.#....####..",
".##....#.....#.#....##..#......",
"#..#.....#..#...#....#.#.......",
".##.#..####..#.##.#......#.....",
"......#....#.......##.##....#..",
"...#....#....#..##.......##.###",
"..##..........##.............#.",
".#...#.#...##..##.....#..#.....",
"....#.#.##...................#.",
".......#.#..#....#.....#.......",
".#.#..#....####...#.#.##....#..",
".#.##...#..#..#...#.#.......#..",
"##.#.....##.........#.......#..",
".##...#.....#.........##.#....#",
".............#..#............##",
"...##.......#.....#.......#.##.",
"##..##.........................",
".##.#........#........#........",
".....#................#.#......",
".............#....#....##....#.",
"#..##...##...#..#.#............",
".......#...####.#..#..#.....##.",
"..#.#..#......#.....#.#.#.....#",
"...#..##........#..#.#....#.#..",
".#.....#..###..#....#.##.#...#.",
"#.#..#.##.#..#......#.###...#..",
"##..#.#..###....##.#...#...##.#",
"##..#.........#...##......#....",
"#.#...#.#..#..........#.......#",
".......#.#.......#.....##..#...",
"........#..##............##.#..",
"........##.....#........#..#...",
"#..##.#..###......##...........",
"..#.....#.#.#....#...#.#..#..##",
"#...............#.......#.#.##.",
"#..#.....#....#............#.#.",
"...#....#...#....#..#..###.....",
"..#....#.#.....#..#......##.#.#",
".#.#....#..#...#....#........#.",
"..##....##....#.....#.#........",
".#...#....##..##.....##.....##.",
".#...........#....##...##.#....",
"...#.....#......###.##.#.......",
"......#.#..##.#.#....#...#...##",
"....#...###.##....#.#.....#....",
".......#.....#......#.....##..#",
".####.#...##..#....#...........",
"................###...#....#..#",
"...#...#.....###.#.##.......#..",
"..#....#...##...#.###......#.#.",
"#...#......#............#.....#",
"#.........#...............#..#.",
"...#.##.....#............#.....",
"........#......##..#..#..#.#..#",
"....#....#.....#.#.....##..#...",
".....#....#..##.....#..........",
".##....#..#...........##.......",
"#......##.....#...#.....#......",
"...#.....#......#.#....#.......",
"...#................##...#..#..",
"........#..........#....#......",
"......#....#.#.#...........#.#.",
".#............#....##.......##.",
"#.......#.....#...##.#..##.....",
".#.....#.##..#..#....#.#..#.#.#",
"....#...............###........",
"#####...........#..#.......#..#",
"...#.......#...#.#............#",
"#...#..#.#...#.#...#.##.....##.",
".#..#..#..#.....#....#...#.....",
".#...#......#.......#.........#",
".#....#.....#...#...#..#....#..",
"#....#....#.......#.....##.....",
".#...#.#.##.#....#..##........#",
"..##...#............#..........",
"..........#..#..#...#....#.....",
"..#.......#....#.....##..##....",
".#...#......#...#..###...#...#.",
"..##...#......#...#.#.#...#....",
".....#..#.#.#.#.#...#....##..#.",
"##..#..##....#.#........##.#...",
".##..#.#...##..#....#..#.......",
".....#...#...#..#.#..#......#..",
".#.....##.##..#....####..#....#",
"......##.................#....#",
"....##.......###...#.##...##.#.",
"...#...#.................##.#..",
".#.....##...#...#.....#.....##.",
"##.........####..#...#...#....#",
"...##.....#......#.###..#......",
".....###..##.#.......###..##...",
"#....#...#.#...#...#.#....#..#.",
"#...#.........##.#.........###.",
"#....#..###..........##........",
".###.....#.#.....#........##..#",
"....#.........##..#..#.#.#..#..",
"..#......#...........#..##...#.",
"...#.#..#..#...#.##..#..#.....#",
".#...#...#....................#",
"..#..##..#.............#.....#.",
".....###.#.#.#...##..#.##....#.",
"..#...####..##.#....#...#...#..",
".....#..#........#.#.#..#.##...",
"#.#.........####..#...#.#......",
"..............#..#........#....",
"....#........#......#.........#",
"#..#.##......#.#.......#....#..",
"....#..............#.#.#..#....",
"#.#......#.....##.......#..##..",
".#.#..........#....#......#....",
".....#.......#.##.....#......##",
"...#...#.##.............####...",
"..#....##...#...##..#.#..##.#..",
"..#.........##.......###.#.....",
"..#.........#####..##...#......",
"..#.#...#.......#.####......##.",
"......#.#.#....#......####....#",
".###...........#...#..#..#..##.",
"..#...#..##.##...#.#.##.....#..",
".....#..#....##.......#...#....",
"......#.....#.........#..#..#..",
"...#..#.........##.....##.#...#",
"....##...#......#..#.....#.....",
"....#..#....#....#........##...",
"##.....#.......#.....#.#.#..#..",
".....#..##.....##.##.#.........",
".#.#..##.............#.#.......",
"......#.##.#.....#.#......#..#.",
"..........#.#..#....#.#.#.#..##",
"...##.....#..#...#...#...##....",
"........#.#......#..###..#.....",
"..#.##......#.......#.......#..",
"...#....##.##.........#.#......",
"......#....#.#.........#......#",
".....#...#....#...#......#..#..",
".##...#......#.........#...#.#.",
"..#.#.#......#....#............",
"..#.....##.............#.##.##.",
"#......#......#...##.......#.#.",
"##........#.....#..............",
".#.###.................#.#....#",
"........##.#..##........#.#....",
".......###...#...##.#..#....#..",
".#..#....#..#......##......#...",
".#...#....#..........##..##.#..",
".#..###.......#............#...",
"...#.....###.#..#........#.#.#.",
"...#....#..#.##..........#.#.#.",
".#..##..#.....#...........#....",
"#...#...##....#..#....##.......",
"#..#......#................#...",
"#..##....#.#..#......#.#.#.....",
"##.#..#...#.....#.#...#......##",
"#....#.#.#....#.....##.....##..",
"....#...##.#...####.#.#.#.#..#.",
".....#.#....#..#.....#..#......",
".........#.#...................",
"........#.....####......#..#..#",
".#.#.##.#...#.#......#...##.##.",
".#......#.#.#...#..#.......#...",
"..#......#.##.##.#.#....#......",
"..........#.#...###............",
".##..#..#.#.#..#.....#..#.#....",
"......#.......#.#..#.#....#...#",
".#.......###......#...#.#.#....",
".............##..#..#...#....#.",
"....#......#.#...#.#...#...#...",
"..#....#.......#.#..#..#.#..#.#",
".#..#.#...#.....#.#...#####...#",
".##............#....#..........",
"#.......####...#.#.#...........",
"...#.......##.#..........#....#",
"..#.#......#.......##.....#..##",
"#......#.###..#......#......#.#",
"##....#..#....#.##....#..#.....",
"...##...#.#....#.#.......#.....",
"#...####....#..#.#..#.##....###",
".....#..#..........###..#......",
".#..#..#...#....#.##..#..#.....",
"#..#.....#....#..#.##...##.....",
".....###.#..#.......#...###.##.",
"#..#........#.#..#.#.........#.",
"....##........................#",
".#....#.#.#.#.#...#......#....#",
"#....#...#.##.......#.#.###....",
"..........###..##....#..##.#...",
"...##..###...#.#.#.......##...#",
"##.#...#..#.....###....#.......",
"..#..##....###........##....###",
".....##..#...#..#.....#..#....#",
"#................#....#...#..##",
"#....#.#....#..###.#.#...#..#.#",
"........##.#...#.#.#.#...#.....",
"..#..###....#......##.#...##...",
"..#..##....#.##..#.....#.....#.",
".#.#...#.....#..#..#......##.#.",
"........#.#...#..##....#..#....",
"...##...#...#...#...##...##..#.",
".......#..#..#....#.#..#...##..",
".#.....#.##........#...#.#.....",
"##.#..#....#.#....#.#....#...#.",
"..#.#......#.......##...#....#.",
"#.#..####..#........#.......###",
"....#.......#.......##.#...#.#.",
"..#..#.#.............#..#......",
"........###.....##....#.......#",
"...#.....#...#...#....#.###....",
"#...##.#........#..#...##..#..#",
"...##..#....#....#.#.#...#.#...",
"#......#.....#....###......##..",
".....#.........####...##..#....",
".......#...##...#..#..#.#......",
".#.#....#.....#.......#........",
"...##...#....##..#.....###.....",
".#....#........##......#....#.#",
".........#.#.#.#...........#.#.",
"....#.#..##......#.#.#..##.....",
".........#.....##....#.........",
"....#.............#...........#",
"...#..##........#.....###......",
"#....#....#......#..#..#..#.#..",
"#......##.....#..#....#..#.#...",
"#..............#....#.#....###.",
"..##..#..#...#...##........##..",
"..#.##....#..#......###..#....."
            };
        }
    }
}
